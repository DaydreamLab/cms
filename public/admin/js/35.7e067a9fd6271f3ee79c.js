webpackJsonp([35],{"3byx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"asset-grant-group",data:function(){return{params:{asset_id:""},fields:[{key:"group_ids",label:"選擇群組",type:"tree",list:[],custom_attrs:{label:"title"},tree_attrs:{"check-strictly":!0}}],default_value:{group_ids:[]},toolbar:{default:["save","savenclose","savenadd","cancel","delete","preview"],custom:[]}}},watch:{$route:function(){this.init()}},created:function(){this.init()},methods:{onSubmit:function(t){var e=this,s=t.data,a=(t.info,t.type);this.params.asset_id&&(s.asset_id=this.params.asset_id),this.$$api_asset_grantGroup({data:s,fn:function(t){var s=t.data,i=t.msg;e.$message.success(i),e.$onSubmitFinish({type:a,query:{id:s.items.id}})}})},onCancel:function(){this.$router.push(this.$route.path.replace("/grant",""))},onGetView:function(){var t=this;this.$$api_asset_group({pathVar:this.params.asset_id,fn:function(e){var s=e.data;t.default_value.group_ids=s.items.map(function(t){return t.id}),t.$$api_asset_listGroup({fn:function(e){var s=e.data;t.fields[0].list=s.items}})}})},onUpdateParams:function(){this.params.asset_id=parseInt(this.$route.query.id)||""},init:function(){this.onUpdateParams(),this.params.asset_id&&this.onGetView()}}}},B3Ph:function(t,e,s){var a=s("VI+2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("5735328d",a,!0,{})},HJoC:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("FormData",{attrs:{FieldList:this.fields,DefaultValue:this.default_value,Toolbar:this.toolbar},on:{onSubmit:this.onSubmit,onCancel:this.onCancel}})},staticRenderFns:[]}},"VI+2":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},t3gD:function(t,e,s){var a=s("VU/8")(s("3byx"),s("HJoC"),!1,function(t){s("B3Ph")},null,null);t.exports=a.exports}});