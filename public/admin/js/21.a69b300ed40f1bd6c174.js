webpackJsonp([21],{"/1qG":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("nNQx");e.default={name:"admin-log-list",mixins:[i.a],data:function(){var t=this;return{list:[],fields:[{key:"creator",label:this.$t("GLOBAL_USERNAME")},{key:"created_at",label:this.$t("LIST_DATA_CREATED_DATE_LABEL"),formatter:function(e){return t.$options.filters.displayDateFormat(e.created_at)}},{key:"type",label:this.$t("OPTION_TYPE")},{key:"action",label:this.$t("LIST_DATA_ACTIONS_LABEL")}],searchbar:{fields:[{key:"search",desc:this.$t("TOOLBAR_KEYWORDS"),clearable:!0},{key:"start_date",type:"date",desc:this.$t("FIELD_SEARCH_START_DATE"),clearable:!0,date_attrs:{"value-format":"yyyy-MM-dd HH:mm:ss"}},{key:"end_date",type:"date",desc:this.$t("FIELD_SEARCH_END_DATE"),clearable:!0,date_attrs:{"value-format":"yyyy-MM-dd HH:mm:ss"}}],default_value:{search:"",start_date:"",end_date:""}}}},methods:{handleGetList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page_data,i=e.fn;this.$$api_observer_log({data:a,fn:function(e){var a=e.data;t.list_loading.flag=!1,t.list=a.items,t.paginations.total=a.pagination.total,i&&i()}})}}}},"0Aam":function(t,e,a){var i=a("VU/8")(a("/1qG"),a("RaA/"),!1,function(t){a("hTUa")},"data-v-5168ab13",null);t.exports=i.exports},"RaA/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("ListData",{ref:"list-data",attrs:{ListLoading:t.list_loading,Pagination:t.paginations,List:t.list,FieldList:t.fields,Searchbar:t.searchbar},on:{onChangeCurrentPage:t.$onChangeCurrentPage,onChangePageSize:t.$onChangePageSize,onSearch:t.$onSearch,onSearchReset:t.$onSearchReset}})},staticRenderFns:[]}},Voxh:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},hTUa:function(t,e,a){var i=a("Voxh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("b41a1008",i,!0,{})},nNQx:function(t,e,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.a={data:function(){return{list:[],list_loading:{flag:!1},paginations:{current_page:1,total:0,page_size:10,page_sizes:[10,15,20,25,50,100],layout:"total, sizes, prev, pager, next, jumper"}}},watch:{$route:{handler:"$initList",immediate:!0}},methods:{$onClickBtnAdd:function(){this.$router.push(this.$route.path+"/edit")},$onClickBntEdit:function(t){this.$router.push({path:this.$route.path+"/edit",query:n({},t,{from:this.$route.query})})},$onSearchReset:function(){this.$router.push({path:this.$route.path})},$onSearch:function(t){var e=t.data,a={},i=this.$route.query;for(var n in i)a[n]=i[n];for(var r in e)a[r]=e[r],a[r]||delete a[r];this.$router.push({path:this.$route.path,query:a})},setRouteQuery:function(t,e){var a=Object.assign({},this.$route.query);return"object"===(void 0===t?"undefined":i(t))?a=t:a[t]=e,a},getRouteQuery:function(){var t=this,e=this.$route.query,a=["id","pid","category_id","access"],i=["start_date","end_date"],n={};return Object.keys(e).forEach(function(r){t.searchbar.default_value[r]=a.includes(r)?parseInt(e[r]):i.includes(r)?t.$options.filters.storeDateFormat(e[r]):e[r],n[r]=e[r]}),n},$onChangeCurrentPage:function(t){var e=this;this.$onGetList({page:t,fn:function(){e.$router.push({path:e.$route.path,query:e.setRouteQuery("page",t)})}})},$onChangePageSize:function(t){var e=this;this.$onGetList({pageSize:t,fn:function(){e.$router.push({path:e.$route.path,query:e.setRouteQuery("page_size",t)})}})},$onGetList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.page,a=t.pageSize,i=t.where,n=t.fn;this.list_loading.flag=!0;var r=this.$route.query;this.paginations.current_page=e||parseInt(r.page)||1,this.paginations.page_size=a||parseInt(r.page_size)||this.paginations.page_size;var s=Object.assign(this.getRouteQuery(),{page:this.paginations.current_page,limit:this.paginations.page_size});i&&(s=Object.assign(s,i||{})),this.handleGetList({page_data:s,fn:n})},$initList:function(){this.$onGetList()}}}}});