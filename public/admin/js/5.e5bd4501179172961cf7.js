webpackJsonp([5],{"27qM":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-collapse-item"},[a("div",{staticClass:"el-collapse-item__header",class:{"is-disabled":e.isDisabled}},[a("el-button",{staticClass:"sortable-handler",attrs:{disabled:e.isDisabled,type:"text"}},[a("font-awesome-icon",{attrs:{icon:["fal","arrows"]}})],1),e._v("\n    "+e._s(e.data.title)+"\n    "),a("div",{staticClass:"el-collapse-item__arrow"},[e.isActive?[a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_CANCEL"),placement:"top-start"}},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.updateActiveItem()}}},[a("font-awesome-icon",{attrs:{icon:["fal","times"]}})],1)],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_SAVE"),placement:"top-start"}},[a("el-button",{attrs:{loading:e.saveLoading,type:"primary",size:"small"},on:{click:e.onClickBtnSave}},[a("font-awesome-icon",{attrs:{icon:["fal","save"]}})],1)],1)]:[a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_EDIT"),placement:"top-start"}},[a("el-button",{attrs:{disabled:e.isDisabled,type:"primary",size:"small",plain:""},on:{click:function(t){e.updateActiveItem(e.data.id)}}},[a("font-awesome-icon",{attrs:{icon:["fal","edit"]}})],1)],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_DELETE"),placement:"top-start"}},[a("el-button",{attrs:{disabled:e.isDisabled,type:"danger",size:"small",plain:""},on:{click:function(t){e.onClickBtnDelete(e.data.id)}}},[a("font-awesome-icon",{attrs:{icon:["fal","trash-alt"]}})],1)],1)]],2)],1),e._v(" "),e.isActive?a("div",{staticClass:"el-collapse-item__wrap"},[a("el-form",{ref:"form-data",attrs:{model:e.defaultValue}},[e._l(e.formLabelRefs[e.type],function(t,n){return[a("el-form-item",{attrs:{prop:n,label:e.formLabelRefs[e.type][n]}},"image"===n?[a("MediaInput",{model:{value:e.defaultValue[n],callback:function(t){e.$set(e.defaultValue,n,t)},expression:"defaultValue[key]"}})]:[a("el-input",{model:{value:e.defaultValue[n],callback:function(t){e.$set(e.defaultValue,n,t)},expression:"defaultValue[key]"}})],1)]}),e._v(" "),e.group_fields&&"extrafields"in e.group_fields?a("FieldForm",{attrs:{data:e.defaultValue.extrafields,fields:e.group_fields.extrafields}}):e._e()],2)],1):e._e()])},staticRenderFns:[]}},"3Et3":function(e,t,a){var n=a("TChr");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("d6da15ba",n,!0,{})},TChr:function(e,t){throw new Error("Module build failed: Error: Missing binding /Users/daydreamlab/cms-frontend/node_modules/node-sass/vendor/darwin-x64-64/binding.node\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 10.x\n\nFound bindings for the following environments:\n  - OS X 64-bit with Node.js 8.x\n\nThis usually happens because your environment has changed since running `npm install`.\nRun `npm rebuild node-sass` to download the binding for your current environment.\n    at module.exports (/Users/daydreamlab/cms-frontend/node_modules/node-sass/lib/binding.js:15:13)\n    at Object.<anonymous> (/Users/daydreamlab/cms-frontend/node_modules/node-sass/lib/index.js:14:35)\n    at Module._compile (internal/modules/cjs/loader.js:776:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:690:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.sassLoader (/Users/daydreamlab/cms-frontend/node_modules/sass-loader/lib/loader.js:46:72)")},aXTa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default={components:{MediaInput:function(){return a.e(68).then(a.bind(null,"Jvbl"))},FieldForm:function(){return a.e(72).then(a.bind(null,"U+D9"))}},props:{category:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},type:{type:String,required:!0},isActive:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},data:function(){return{fields:{extrafield_group_id:{list:this.$store.getters.extrafield_group_list,custom_attrs:{label:"title",value:"id"}}},defaultValue:{id:"",title:"",link:"",introtext:"",description:"",category_id:"",language:"",image:"",state:1,featured:0,extrafield_group_id:"",extrafields:{}},saveLoading:!1,formLabelRefs:{slideshow:{title:"Slide 標題",image:"背景圖片"},link:{image:"Logo",title:"連結標題",link:"連結網址",description:"連結描述"},menu:{title:"菜名",introtext:"描述",description:"價錢"},timeline:{title:"標題",description:"描述"}}}},computed:{group_fields:function(){return this.fields.extrafield_group_id.list[this.defaultValue.extrafield_group_id]}},mounted:function(){this.initData()},methods:{onClickBtnDelete:function(e){var t=this;this.$$api_item_delete({data:{ids:[e]},fn:function(e){var a=e.msg;t.$message.success(a),t.$emit("update")}})},onClickBtnSave:function(){var e=this;this.saveLoading=!0,this.category&&(this.defaultValue.category_id=this.category.id,this.defaultValue.language=this.category.language),this.$$api_item_save({data:this.defaultValue,fn:function(t){t.data;var a=t.msg;e.$message.success(a),e.$emit("update"),e.updateActiveItem()},finalFn:function(){e.saveLoading=!1}})},updateActiveItem:function(e){this.$emit("update-active",e)},initData:function(){this.defaultValue=n({},this.defaultValue,this.data)}}}},t2Pn:function(e,t,a){var n=a("VU/8")(a("aXTa"),a("27qM"),!1,function(e){a("3Et3")},"data-v-0b8d169b",null);e.exports=n.exports}});