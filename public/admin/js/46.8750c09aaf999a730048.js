webpackJsonp([46],{EL7z:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("FormData",{attrs:{FieldList:this.fields,DefaultValue:this.default_value,Toolbar:this.toolbar},on:{onSubmit:this.onSubmit,onCancel:this.onCancel}})],1)},staticRenderFns:[]}},lUd6:function(t,e,a){var i=a("VU/8")(a("xvSB"),a("EL7z"),!1,null,null,null);t.exports=i.exports},xvSB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default={name:"role-edit",data:function(){return{params:{id:"",pid:1},fields:[{key:"parent_id",type:"select",label:"上層角色",list:this.$store.getters.role_list,custom_attrs:{label:"tree_title",value:"id"}},{key:"title",label:"標題"},{key:"redirect",type:"select",label:"登入後頁面",list:[],custom_attrs:{label:"full_path",value:"full_path"}},{key:"state",label:"是否啟用",type:"radio",list:[{text:"禁用",value:"0"},{text:"啟用",value:"1"}]}],toolbar:{type:"edit"},default_value:{parent_id:1,title:"",redirect:"",state:1}}},methods:{onSubmit:function(t){var e=this,a=t.data,i=(t.info,t.type);this.params.id&&(a.id=this.params.id),this.$$api_role_save({data:a,fn:function(t){var a=t.data,s=t.msg;e.$message.success(s),e.$onSubmitFinish({type:i,query:{id:a.items.id,pid:a.items.parent_id}})}})},onCancel:function(){this.$router.push(this.$route.path.replace("/edit",""))},onGetView:function(){var t=this;this.$$api_role_pages({pathVar:this.params.id,fn:function(e){var a=e.data;t.fields[2].list=a.items}}),this.$$api_role_get({pathVar:this.params.id,fn:function(e){var a=e.data;t.default_value=i({},t.default_value,a.items)}})}}}}});