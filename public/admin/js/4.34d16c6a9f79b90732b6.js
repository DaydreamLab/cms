webpackJsonp([4],{VF1M:function(e,t,a){var i=a("vi9Y");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("234a1fa8",i,!0,{})},VidF:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-collapse-item"},[a("div",{staticClass:"el-collapse-item__header",class:{"is-disabled":e.isDisabled}},[a("el-button",{staticClass:"sortable-handler",attrs:{disabled:e.isDisabled,type:"text"}},[a("font-awesome-icon",{attrs:{icon:["fal","arrows"]}})],1),e._v("\n    "+e._s(e.data.title)+"\n    "),a("div",{staticClass:"el-collapse-item__arrow"},[e.isActive?[a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_CANCEL"),placement:"top-start"}},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){return e.updateActiveItem()}}},[a("font-awesome-icon",{attrs:{icon:["fal","times"]}})],1)],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_SAVE"),placement:"top-start"}},[a("el-button",{attrs:{loading:e.saveLoading,type:"primary",size:"small"},on:{click:e.onClickBtnSave}},[a("font-awesome-icon",{attrs:{icon:["fal","save"]}})],1)],1)]:[a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_EDIT"),placement:"top-start"}},[a("el-button",{attrs:{disabled:e.isDisabled,type:"primary",size:"small",plain:""},on:{click:function(t){return e.updateActiveItem(e.data.id)}}},[a("font-awesome-icon",{attrs:{icon:["fal","edit"]}})],1)],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("TOOLBAR_DELETE"),placement:"top-start"}},[a("el-button",{attrs:{disabled:e.isDisabled,type:"danger",size:"small",plain:""},on:{click:function(t){return e.onClickBtnDelete(e.data.id)}}},[a("font-awesome-icon",{attrs:{icon:["fal","trash-alt"]}})],1)],1)]],2)],1),e._v(" "),e.isActive?a("div",{staticClass:"el-collapse-item__wrap"},[a("el-form",{ref:"form-data",attrs:{model:e.defaultValue}},[e._l(e.formLabelRefs[e.type],function(t,i){return["image"===i?a("el-form-item",{attrs:{prop:i,label:e.formLabelRefs[e.type][i]}},[a("MediaInput",{model:{value:e.defaultValue[i],callback:function(t){e.$set(e.defaultValue,i,t)},expression:"defaultValue[key]"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{prop:i,label:e.formLabelRefs[e.type][i]}},"description"===i?[a("el-input",{attrs:{type:"textarea"},model:{value:e.defaultValue[i],callback:function(t){e.$set(e.defaultValue,i,t)},expression:"defaultValue[key]"}})]:[a("el-input",{model:{value:e.defaultValue[i],callback:function(t){e.$set(e.defaultValue,i,t)},expression:"defaultValue[key]"}})],1)]}),e._v(" "),e.group_fields&&"extrafields"in e.group_fields?a("FieldForm",{attrs:{data:e.defaultValue.extrafields,fields:e.group_fields.extrafields},on:{"update:data":function(t){return e.$set(e.defaultValue,"extrafields",t)}}}):e._e()],2)],1):e._e()])},staticRenderFns:[]}},aXTa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};t.default={components:{MediaInput:function(){return a.e(67).then(a.bind(null,"Jvbl"))},FieldForm:function(){return a.e(72).then(a.bind(null,"U+D9"))}},props:{category:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},type:{type:String,required:!0},isActive:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},data:function(){return{fields:{extrafield_group_id:{list:this.$store.getters.extrafield_group_list,custom_attrs:{label:"title",value:"id"}}},defaultValue:{id:"",title:"",link:"",introtext:"",description:"",category_id:"",language:"",image:"",state:1,featured:0,extrafield_group_id:"",extrafields:{}},saveLoading:!1,formLabelRefs:{slideshow:{title:"Slide 標題",image:"背景圖片"},link:{title:"連結標題"},"simple-item":{title:"標題",image:"圖片",description:"描述"}}}},computed:{group_fields:function(){return this.fields.extrafield_group_id.list[this.defaultValue.extrafield_group_id]}},mounted:function(){this.initData()},methods:{onClickBtnDelete:function(e){var t=this;this.$$api_item_delete({data:{ids:[e]},fn:function(e){var a=e.msg;t.$message.success(a),t.$emit("update")}})},onClickBtnSave:function(){var e=this;this.saveLoading=!0,this.category&&(this.defaultValue.category_id=this.category.id,this.defaultValue.language=this.category.language),this.$$api_item_save({data:this.defaultValue,fn:function(t){t.data;var a=t.msg;e.$message.success(a),e.$emit("update"),e.updateActiveItem()},finalFn:function(){e.saveLoading=!1}})},updateActiveItem:function(e){this.$emit("update-active",e)},initData:function(){this.defaultValue=i({},this.defaultValue,this.data)}}}},t2Pn:function(e,t,a){var i=a("VU/8")(a("aXTa"),a("VidF"),!1,function(e){a("VF1M")},"data-v-91fefb26",null);e.exports=i.exports},vi9Y:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".el-collapse-item__header[data-v-91fefb26]{cursor:auto;padding-left:8px}.el-collapse-item__header.is-disabled[data-v-91fefb26]{cursor:not-allowed;background:#e6e6e6}",""])}});