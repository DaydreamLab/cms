webpackJsonp([45],{"3XsC":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ListData",{ref:"list-data",attrs:{List:t.list,ListLoading:t.list_loading,Pagination:t.paginations,Toolbar:t.toolbar,Searchbar:t.searchbar,ListActions:t.list_actions,FieldList:t.fields},on:{onClickBtnAdd:t.$onClickBtnAdd,onClickBtnEdit:t.handleEditQuery,onClickBtnBatchDelete:t.onClickBtnBatchDelete,onChangeCurrentPage:t.$onChangeCurrentPage,onChangePageSize:t.$onChangePageSize,onSearch:t.$onSearch,onSearchReset:t.$onSearchReset}})],1)},staticRenderFns:[]}},Epn1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"role-list",data:function(){var t=this;return{fields:[{key:"tree_title",label:this.$t("FIELD_TITLE_LABEL"),type:"editable"},{key:"redirect",label:"登入後頁面"},{key:"state",label:this.$t("OPTION_STATE"),type:"icon-label",width:"90",formatter:function(t){return{color:"item_state_"+t+"_color",icon:["fal",1===t?"check":"times"]}}},{width:"60",key:"id",label:this.$t("LIST_DATA_HEADING_ID")}],toolbar:{type:"list",custom:[{text:this.$t("TOOLBAR_PUBLISH"),method:"updateState",condition:function(t){var e=t.data;return 0===e.state&&null!==e.parent_id},fn:function(e){var a=e.ids;t.onClickBtnUpdateState({ids:a,state:1})}},{text:this.$t("TOOLBAR_UNPUBLISH"),method:"updateState",condition:function(t){var e=t.data;return 1===e.state&&null!==e.parent_id},fn:function(e){var a=e.ids;t.onClickBtnUpdateState({ids:a,state:0})}}]},searchbar:{fields:[{key:"search",desc:this.$t("TOOLBAR_KEYWORDS"),clearable:!0}],default_value:{search:""}},list_actions:{btns:[{text:this.$t("ASSET_USER_ROLE_ASSIGN_ASSET_TITLE"),type:"primary",method:"grant_asset",fn:function(e){var a=e.data;t.$router.push({path:t.$route.path+"/grant/asset",query:{id:a.id,name:a.full_name}})}},{text:this.$t("ASSET_USER_ROLE_ASSIGN_API_TITLE"),type:"primary",method:"grant_api",fn:function(e){var a=e.data;t.$router.push({path:t.$route.path+"/grant/api",query:{id:a.id,name:a.full_name}})}}]}}},methods:{onClickBtnUpdateState:function(t){var e=this,a=t.ids,n=t.state;this.$$api_role_updateState({data:{ids:a,state:n},fn:function(t){var a=t.msg;e.$message.success(a),e.$onGetList()}})},onClickBtnBatchDelete:function(t){var e=this,a=t.ids;t.datas;this.$confirm(this.$t("GLOBAL_CONFIRM_DELETE")).then(function(){e.$$api_role_delete({data:{ids:a},fn:function(t){t.data;e.$onGetList()}})})},handleEditQuery:function(t){var e=t.data;this.$onClickBntEdit({id:e.id,pid:e.parent_id,name:e.name})},handleGetList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page_data,n=e.fn;this.$$api_role_list({data:a,fn:function(e){var a=e.data;t.list_loading.flag=!1,t.list=a.items,t.paginations.total=a.pagination.total,t.$store.dispatch("update_option_related_list",{type:"role",data:a.items}),n&&n()}})},init:function(){this.$onGetList()}}}},ceU4:function(t,e,a){var n=a("VU/8")(a("Epn1"),a("3XsC"),!1,null,null,null);t.exports=n.exports}});